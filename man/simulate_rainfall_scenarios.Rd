% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate_rainfall_scenarios.R
\name{simulate_rainfall_scenarios}
\alias{simulate_rainfall_scenarios}
\title{Simulate daily rainfall scenarios (monthly-seasonal sampling)}
\usage{
simulate_rainfall_scenarios(
  df,
  times = NULL,
  scenarios = c("baseline", "dry", "wet", "erratic"),
  scales = list(dry = 0.5, wet = 1.5),
  erratic_range = c(0.1, 2),
  origin = as.Date("2008-01-01"),
  plot = FALSE
)
}
\arguments{
\item{df}{A data frame containing at least a date column and rainfall.
Works out-of-the-box with \code{weather_nl}. If column names differ, they will
be normalised via \code{normalize_weather_names()}.}

\item{times}{Either:
\itemize{
\item a vector of \code{Date}s to simulate for, or
\item an integer vector of day offsets from an origin date (see \code{origin}), or
\item \code{NULL} (default): use the span of \code{df$date}.
}}

\item{scenarios}{Character vector of scenario names to generate.
Built-ins: \code{"baseline"}, \code{"dry"}, \code{"wet"}, \code{"erratic"}.}

\item{scales}{Named numeric multipliers for scenarios. Defaults:
\code{list(dry = 0.5, wet = 1.5)}.}

\item{erratic_range}{Numeric length-2 giving min/max random factor for
\code{"erratic"} scenario. Default \code{c(0.1, 2.0)}.}

\item{origin}{Date used when \code{times} are integers (day offsets).
Default \code{"2008-01-01"}.}

\item{plot}{Logical; if \code{TRUE}, include a ggplot comparing scenarios.}
}
\value{
A list with:
\describe{
\item{series}{Tibble with columns \code{date}, \code{month}, \code{scenario}, \code{rain_mm}.}
\item{plot}{\code{ggplot} object if \code{plot = TRUE}, otherwise \code{NULL}.}
}
}
\description{
Samples daily rainfall by drawing (with replacement) from the empirical
distribution of the \emph{same calendar month} across all years, then applies
simple scenario transforms (baseline/dry/wet/erratic). This preserves
monthly seasonality and zero proportions while allowing stochastic realisations.
}
\details{
For each simulated day, the function identifies that dayâ€™s calendar month and
samples one value from the pool of observed daily rainfall for that month
across all years in \code{df}. Scenario transforms are applied afterwards:
\itemize{
\item baseline: identity
\item dry: multiply by \code{scales$dry}
\item wet: multiply by \code{scales$wet}
\item erratic: multiply by \code{runif(1, erratic_range[1], erratic_range[2])}
}

Zeros in the empirical pool are naturally preserved by resampling.
}
\examples{
data(weather_nl)
set.seed(1)
sim <- simulate_rainfall_scenarios(weather_nl,
                                   times = as.Date("2010-01-01") + 0:59,
                                   scenarios = c("baseline","dry","wet"),
                                   plot = TRUE)
head(sim$series)
if (!is.null(sim$plot)) print(sim$plot)

}
