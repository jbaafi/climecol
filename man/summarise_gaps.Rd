% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarise_gaps.R
\name{summarise_gaps}
\alias{summarise_gaps}
\title{Summarise gaps in daily weather records}
\usage{
summarise_gaps(df, by = c("station", "month"))
}
\arguments{
\item{df}{Tibble with at least \code{date} and \code{station} columns.}

\item{by}{Character, one of \code{"station"} (default) or \code{"month"}.
If \code{"month"}, summaries are returned per station–month combination.}
}
\value{
A tibble summarising record coverage with the following columns:
\describe{
\item{station}{Station name or ID.}
\item{n_days}{Total number of days in the span.}
\item{n_missing}{Number of missing calendar days.}
\item{coverage}{Proportion of days present (1 = complete).}
\item{n_gaps}{Number of contiguous missing-day gaps.}
\item{longest_gap}{Length (days) of the longest missing period.}
}
}
\description{
Provides coverage and continuity metrics per station or per station–month.
This function is useful for quickly checking the completeness of daily
weather time series before downstream analysis.
}
\details{
If the input has already been passed through
\code{\link{complete_daily_calendar}()}, this function will recognise and
reuse its internal \code{is_missing_row} flag; otherwise it infers missing days
automatically from the date span.
}
\examples{
data(weather_nl)

# Summarise completeness by station
summarise_gaps(weather_nl, by = "station")

#> # A tibble: 2 × 6
#>   station             n_days n_missing coverage n_gaps longest_gap
#>   <chr>                <int>     <int>    <dbl>  <int>       <int>
#> 1 ST JOHN'S A           1827         0    1.00       0           0
#> 2 ST. JOHN'S INTL A     4017         0    1.00       0           0

# Monthly view (truncated example)
head(summarise_gaps(weather_nl, by = "month"))

}
